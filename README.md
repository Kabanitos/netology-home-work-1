# Домашнее задание к занятию 1. «Введение в виртуализацию»
### Цели задания
1. Научиться запускать виртуальную машину в Yandex Cloud с минимальным расходом ресурсов.
2. Попрактиковаться в выборе платформы  и системы управления виртуализации для решения требуемых задач.
## Задача 1
1. Создайте через web-интерфейс Yandex Cloud - VPC и виртуальную машину из инструкции конфигурации "эконом-ВМ" с публичным ip-адресом. В пункте "Выбор образа/загрузочного диска" выберите вкладку "Cloud Marketplace" , щелкните "Посмотреть больше", найдите образ "Yandex Cloud Toolbox".
2. Убедитесь, что вы можете подключиться к консоли ВМ через ssh, используя публичный ip-адрес. Убедитесь, что на ВМ установлен Docker с помощью команды ```docker --version```(команду выполните от имени root пользователя) !
3. Узнайте в инструкции Яндекс, какие еще инструменты предустановлены в данном образе.
4. Оставьте ВМ работать, пока она не выключится самостоятельно! Опция "прерываемая" выключит ее не позже чем через 24 часа. 
5. Для наглядности подождите еще 1 сутки.
6. Перейдите по [ссылке ](https://console.cloud.yandex.ru/billing?section=accounts). Выберите свой платежный аккаунт. Перейдите на вкладку детализация (фильтр "По продуктам") и оцените график потребления финансов.
7. Удалите ВМ или пользуйтесь ею при выполнении последующих домашних заданий курса обучения.  

### Выполнение
#### Созданная ВМ
![Созданная ВМ](img/screen1.png "Созданная ВМ")
#### Версия  службы Docker
![Версия службы Docker](img/screen2.png "Версия службы Docker")

## Задача 2

Выберите один из вариантов платформы в зависимости от задачи. Здесь нет однозначно верного ответа так как все зависит от конкретных условий: финансирование, компетенции специалистов, удобство использования, надежность, требования ИБ и законодательства, фазы луны.

Тип платформы:

- физические сервера;
- паравиртуализация;
- виртуализация уровня ОС;

Задачи:

- высоконагруженная база данных MySql, критичная к отказу;
- различные web-приложения;
- Windows-системы для использования бухгалтерским отделом;
- системы, выполняющие высокопроизводительные расчёты на GPU.

Объясните критерии выбора платформы в каждом случае.

### Ответ
**Высоконагруженная база данных MySql, критичная к отказу**

Для высонагруженной базы данных, я бы выбрал физические сервера т.к он обеспечивает максимальную производительность, что важно для высоконагруженная база данных или же паравиртуализация, если необходимо развернуть несколько экземпляров для отказаустойчивости.

**различные web-приложения**
Для web-приложений я бы выбрал виртуализацию на уровня ОС, т.к данный тип платформы обладают высокой отказаустойчивостью, масштабируемостью, что важно для данных сервисов.

**Windows-системы для использования бухгалтерским отделом**

Для данной задачи по моему мнению беспорно выигравает паравиртуализация. Т.к данная платформа обеспечивает возможность миграции и настройки резервирования, а так же имеет возможность выделения ресурсов между несколькими виртуальными машинами.

**системы, выполняющие высокопроизводительные расчёты на GPU**

Для этой задачи я бы использовал физические серевера т.к паравиртуализация может негативно влиять на использования вычислительных ресурсов. 



## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

### Ответ

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

Для данного сценария, мой выбор пал бы на платформу виртуализации Hyper-V в данном случае обладаеь  требуемым функционалом. Так же подошло бы решение VMWare, но VMware начиная с версии 6.7,  прекратила поддержку VMware vSphere Data Protection, оставив задачу по резервному копированию на специализированных производителей систем резервного копирования.

2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

Для этих задач может подойти Xen или KVM. Т.к данные решения являются open source и поддерживают различные операционные системы, включая Windows, Linux и другие UNIX-подобные системы

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.

Я бы выбрал Microsoft Hyper-V Server т.к данная платформа имеет наибольшую совместимость с Windows-инфраструктурой

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

Для данной задачи я бы выбрал Docker или Podman. Так как данные системы позволяют быстро развернуть среду для тестирования программного продукта на нескольких дистрибутивах Linux.


## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет?

### Ответ

Основные проблемы гетерогенной среды виртуализации:

1. Сложность упраления. В разных системах виртуализации используются различные инструменты управления. Это приводит к тому, что администратору для поддержки необходимо знать несколько наборов инструментов, что усложняет управление инфраструктурой.
2. Разсличие в форматах виртуальных машин. Разные гипервизоры используют собственные фомраты виртуальных машин, это осложняет перенос и интеграцию между системами.
3. Затраты. Использование разных платформ виртуализации может привести к росту затрат на лицензирование ПО.
4. Сложность обеспечения безопасности. Разные гипервизоры могут иметь свои механизмы реализации безопасности, что затрудняет единообразное управления безопасностью и приводит к возможным проблемам в защите.
5. Мониторинг. Для каждой системы виртуализации может потребываться отдельная система мониторинга.

Для минимизации рисков и проблем при гетерогенной среды виртуализаци необходимо придерживаться следующей тактики: 

1. Использывание единой платфомы управления.
2. Использование единого стандарта конфигурации
3. Использование унифицированного решения резервного копирования и воссстановления
4. Использования централизованного решения управления безопасностью
5. Использование универсальной системы мониторинга
6. Проводить переодическое обучение персонала

Создавал бы я гетерогенную среду, это зависит от задач которые приследуются. Например, в инфраструктуре уже имеется платформа виртуализации, а переход на единую платформу требует значительных затрат. Тогда гетерогенная система может быть оправдана. В этом случае я бы создавал гетерогенную среду. Если же приследуется цель снижение затрат, повышение отказоустойчивости и безопасности, то я бы выбрал вариант использования одной платформы.